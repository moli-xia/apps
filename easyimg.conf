local app_id="easyimg"
local app_name="EasyImg"
local app_text="一站式图床服务. 支持公共上传，支持部署AI鉴黄检测，权限控制、数据统计、实时推送等功能"
local app_url="https://github.com/chaos-zhu/easyimg"
local docker_name="easyimg_container"
local docker_port="8206"   # Web访问端口
local app_size="1"
# --- 核心逻辑 / Core Logic ---
docker_app_install() {
    mkdir -p /home/docker/easyimg && cd /home/docker/easyimg
    # 下载并配置 compose 文件 / Download compose file
    # 务必使用 gh_proxy 变量 / Use gh_proxy for China access
    curl -L -o docker-compose.yml "${gh_proxy}raw.githubusercontent.com/chaos-zhu/easyimg/refs/heads/main/docker-compose.yml"
    sed -i "s/8092:3000/${docker_port}:3000/g" docker-compose.yml
    # 端口处理（使用变量以便用户自定义）/ Port configuration (Customizable)
    # 启动容器 / Start container
    docker compose up -d
    echo "安装完成 / Install Complete"

    # 显示访问地址的函数保留即可 / Show the function that is reserved
    check_docker_app_ip
    echo "初始用户名: easyimg"
    echo "初始密码: easyimg"
    echo "请登录后立即修改默认用户名密码!"


}
docker_app_update() {
    cd /home/docker/easyimg
    docker compose pull
    docker compose up -d
    echo "更新完成 / Update Complete"
}
docker_app_uninstall() {
    cd /home/docker/easyimg
    # 停止并删除镜像 / Stop and remove images
    docker compose down --rmi all
    # 彻底物理删除目录 / Clean up directory
    rm -rf /home/docker/easyimg
    echo "卸载完成 / Uninstall Complete"
}
# --- 注册 (必须包含) / Registration (Mandatory) ---
docker_app_plus
